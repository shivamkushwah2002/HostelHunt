{% extends "base.html" %}
{% load static %}
{% block body %}
<!-- Profile Container -->
<div class="profile-container">
    <!-- Profile Header -->
    
    <!-- Profile Card -->
    <h2 class="profile-heading">Your Profile</h2>
    <div class="profile-card">
        <!-- Profile Image (Optional) -->
        <div class="profile-image">
            <img src="{% static 'image/download.png' %}" alt="Profile Picture" />
        </div>
        <!-- User Info -->
        <div class="profile-details">
            <h3>{{ user.first_name }} {{ user.last_name }}</h3>
            <p><strong>Username:</strong> {{ user.username }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>
            <!-- Add more fields if needed -->
        </div>
    </div>
</div>

{% if user.is_authenticated and user_listings.exists %}

<div style="background-color : rgba(0,0,0,0); color:white; padding:10px 0; text-align:center; font-style:italic; font-family:Times New Roman; font-size:2rem;">
    <!-- Information Cards - अब टेबल में दिखेंगे -->
    <h2 style="color:black;">My Listings</h2>
    <!-- टेबल की शुरुआत -->
    <table style="width:90%; font-color:black;margin:auto; border-collapse: collapse; font-family: Arial, sans-serif; font-size: 1rem; border: 1px solid #ccc;">
        <thead>
            <tr style="background-color: #9b9493;">
                <th style="padding:10px; border: 1px solid #ccc;">Image</th>
                <th style="padding:10px; border: 1px solid #ccc;">Name</th>
                <th style="padding:10px; border: 1px solid #ccc;">Location</th>
                <th style="padding:10px; border: 1px solid #ccc;">Actions</th>
            </tr>
        </thead>
        <tbody >
            {% for listing in user_listings %}
            <tr style="border: 1px solid #ccc; color:black;">
                <td style="padding:10px; border: 1px solid #ccc; text-align:center;">
                    <img src="{{ listing.image.url }}" alt="Hostel Image" style="width:150px; height:100px; object-fit:cover;">
                </td>
                <td style="padding:10px; border: 1px solid #ccc;">
                    <p style="margin:0;">{{ listing.hostel_name }}</p>
                </td>
                <td style="padding:10px; border: 1px solid #ccc;">
                    <p style="margin:0;"><i class="fas fa-map-marker-alt"></i> {{ listing.location }}</p>
                </td>
               
                <td style="padding:10px; border: 1px solid #ccc; text-align:center;">
                    <button  style="margin-bottom:5px; padding:5px 10px; background-color:#007bff; color:white; border:none; border-radius:4px; cursor:pointer;"
                        onclick="window.location.href='{% url 'update_listing' listing.id %}'">Update</button><br>
                    <button  style="padding:5px 10px; background-color:red; color:white; border:none; border-radius:4px; cursor:pointer;"
                        onclick="if(confirm('Are you sure you want to delete this listing?')) { window.location.href='{% url 'delete_listing' listing.id %}'; }">Delete</button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endif %}


<style>
.info-section {
    color: black;
  display: flex; 
  flex-wrap: wrap;
  justify-content: center;
  padding: 50px 20px;
  gap: 40px;
}

    .info-card {
  max-width: 400px;
  background-color: rgb(255, 255, 255);
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.4);
  overflow: hidden; /* Prevent content overflow */
  display: flex;
  flex-direction: column;
}

  
    .info-card p {
  margin: 10px 0;
  word-wrap: break-word;
  overflow: hidden;
  font-size:1.5rem;
}
    /* Container for the entire profile page */
.profile-container {
    max-width: 800px;
    margin: 50px auto;
    padding: 20px;
    font-family: 'Arial', sans-serif;
    text-align: center;
}

/* Heading style */
.profile-heading {
    font-size: 2rem;
    margin-bottom: 30px;
    color: #333;
}

/* Profile Card Style */
.profile-card {
    display: flex;
    align-items: center;
    background-color: #fff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    transition: box-shadow 0.3s ease;
}

/* Hover effect for card */
.profile-card:hover {
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}

/* Profile Image */
.profile-image {
    flex: 1;
    padding: 10px;
}
.profile-image img {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #ddd;
}

/* Profile Details */
.profile-details {
    flex: 2;
    padding: 10px 20px;
    text-align: left;
}
.profile-details h3 {
    margin-bottom: 15px;
    font-size: 1.8rem;
    color: #222;
}
.profile-details p {
    font-size: 1.1rem;
    margin: 8px 0;
}
.profile-details strong {
    color: #555;
}
</style>
{% endblock %}